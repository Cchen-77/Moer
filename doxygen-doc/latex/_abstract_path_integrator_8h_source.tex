\hypertarget{_abstract_path_integrator_8h_source}{}\doxysection{Abstract\+Path\+Integrator.\+h}
\label{_abstract_path_integrator_8h_source}\index{AbstractPathIntegrator.h@{AbstractPathIntegrator.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <cmath>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include "{}CoreLayer/Ray/Ray.h"{}}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}MonteCarloIntegrator.h"{}}}
\DoxyCodeLine{17 }
\DoxyCodeLine{22 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_path_integrator_local_record}{PathIntegratorLocalRecord}}}
\DoxyCodeLine{23 \{}
\DoxyCodeLine{24     \mbox{\hyperlink{struct_t_vector3}{Vec3d}} wi;}
\DoxyCodeLine{25     \mbox{\hyperlink{class_sampled_spectrum}{Spectrum}} f;}
\DoxyCodeLine{26     \textcolor{keywordtype}{double} pdf;}
\DoxyCodeLine{27     \textcolor{keywordtype}{bool} isDelta = \textcolor{keyword}{false};}
\DoxyCodeLine{28 \};}
\DoxyCodeLine{29 }
\DoxyCodeLine{34 \textcolor{keyword}{class }\mbox{\hyperlink{class_abstract_path_integrator}{AbstractPathIntegrator}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_monte_carlo_integrator}{MonteCarloIntegrator}}}
\DoxyCodeLine{35 \{}
\DoxyCodeLine{36 \textcolor{keyword}{protected}:}
\DoxyCodeLine{37     \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_abstract_path_integrator_a2efce2d9a16b71a83b05c6bab3d38133}{nDirectLightSamples}} = 1;      }
\DoxyCodeLine{38     \textcolor{keyword}{const} \textcolor{keywordtype}{double} misWeightPower = 1.0f;}
\DoxyCodeLine{39 }
\DoxyCodeLine{40 \textcolor{keyword}{public}:}
\DoxyCodeLine{41     \mbox{\hyperlink{class_abstract_path_integrator}{AbstractPathIntegrator}}(}
\DoxyCodeLine{42         std::shared\_ptr<Camera> \_camera, }
\DoxyCodeLine{43         std::unique\_ptr<Film> \_film, }
\DoxyCodeLine{44         std::unique\_ptr<TileGenerator> \_tileGenerator, }
\DoxyCodeLine{45         std::shared\_ptr<Sampler> \_sampler, }
\DoxyCodeLine{46         \textcolor{keywordtype}{int} \_spp,}
\DoxyCodeLine{47         \textcolor{keywordtype}{int} \_renderThreadNum=4);}
\DoxyCodeLine{48 }
\DoxyCodeLine{49     \textcolor{keyword}{virtual} \mbox{\hyperlink{class_sampled_spectrum}{Spectrum}} \mbox{\hyperlink{class_abstract_path_integrator_ab8cd8daf61a70ecc40b6586b4180db2b}{Li}}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_ray}{Ray}} \&ray, std::shared\_ptr<Scene> scene);}
\DoxyCodeLine{50     \textcolor{keyword}{virtual} \textcolor{keywordtype}{double} MISWeight(\textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y);}
\DoxyCodeLine{51 }
\DoxyCodeLine{52 \textcolor{comment}{    /*************************************************************}}
\DoxyCodeLine{53 \textcolor{comment}{    Functions below need to be implemented in derived classes}}
\DoxyCodeLine{54 \textcolor{comment}{    *************************************************************/}}
\DoxyCodeLine{55 }
\DoxyCodeLine{61     \textcolor{keyword}{virtual} \mbox{\hyperlink{struct_path_integrator_local_record}{PathIntegratorLocalRecord}} \mbox{\hyperlink{class_abstract_path_integrator_ae0319b02e06f722f2715ec5e6c583061}{evalEmittance}}(std::shared\_ptr<Scene> scene,}
\DoxyCodeLine{62                                                     std::optional<Intersection> its,}
\DoxyCodeLine{63                                                     \textcolor{keyword}{const} \mbox{\hyperlink{struct_ray}{Ray}} \&ray) = 0;}
\DoxyCodeLine{64 }
\DoxyCodeLine{70     \textcolor{keyword}{virtual} \mbox{\hyperlink{struct_path_integrator_local_record}{PathIntegratorLocalRecord}} \mbox{\hyperlink{class_abstract_path_integrator_a0abd0f1493fd7881508006e3cccc0475}{sampleDirectLighting}}(std::shared\_ptr<Scene> scene,}
\DoxyCodeLine{71                                                            \textcolor{keyword}{const} Intersection \&its,}
\DoxyCodeLine{72                                                            \textcolor{keyword}{const} \mbox{\hyperlink{struct_ray}{Ray}} \&ray) = 0;}
\DoxyCodeLine{73 }
\DoxyCodeLine{82     \textcolor{keyword}{virtual} \mbox{\hyperlink{struct_path_integrator_local_record}{PathIntegratorLocalRecord}} \mbox{\hyperlink{class_abstract_path_integrator_aee510e134c59cdd95e1138f9033be81b}{evalScatter}}(std::shared\_ptr<Scene> scene,}
\DoxyCodeLine{83                                                   \textcolor{keyword}{const} Intersection \&its,}
\DoxyCodeLine{84                                                   \textcolor{keyword}{const} \mbox{\hyperlink{struct_ray}{Ray}} \&ray,}
\DoxyCodeLine{85                                                   \textcolor{keyword}{const} \mbox{\hyperlink{struct_t_vector3}{Vec3d}} \&wi) = 0;}
\DoxyCodeLine{86 }
\DoxyCodeLine{94     \textcolor{keyword}{virtual} \mbox{\hyperlink{struct_path_integrator_local_record}{PathIntegratorLocalRecord}} \mbox{\hyperlink{class_abstract_path_integrator_afd751de0df4b208a7165fadf74bd0c98}{sampleScatter}}(std::shared\_ptr<Scene> scene,}
\DoxyCodeLine{95                                                     \textcolor{keyword}{const} Intersection \&its,}
\DoxyCodeLine{96                                                     \textcolor{keyword}{const} \mbox{\hyperlink{struct_ray}{Ray}} \&ray) = 0;}
\DoxyCodeLine{97 }
\DoxyCodeLine{99     \textcolor{keyword}{virtual} \textcolor{keywordtype}{double} \mbox{\hyperlink{class_abstract_path_integrator_ab4b6bda664ef6b9129aae6dc14bfe9f2}{russianRoulette}}(std::shared\_ptr<Scene> scene,}
\DoxyCodeLine{100                                    \textcolor{keyword}{const} Intersection \&its,}
\DoxyCodeLine{101                                    \textcolor{keyword}{const} \mbox{\hyperlink{class_sampled_spectrum}{Spectrum}} \&T,}
\DoxyCodeLine{102                                    \textcolor{keywordtype}{int} nBounce) = 0;}
\DoxyCodeLine{103 \};}

\end{DoxyCode}
