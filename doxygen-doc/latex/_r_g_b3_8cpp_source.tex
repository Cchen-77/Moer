\hypertarget{_r_g_b3_8cpp_source}{}\doxysection{RGB3.\+cpp}
\label{_r_g_b3_8cpp_source}\index{/mnt/renderer/Zero/src/CoreLayer/ColorSpace/RGB3.cpp@{/mnt/renderer/Zero/src/CoreLayer/ColorSpace/RGB3.cpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00013}00013 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_color_8h}{Color.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00015}00015 \textcolor{preprocessor}{\#include "{}Eigen/Dense"{}}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00016}00016 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00018}00018 RGB3::RGB3() }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00019}00019 \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00020}00020     rgbData[0] = rgbData[1] = rgbData[2] = 0.0;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00021}00021 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00022}00022 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00023}00023 RGB3::RGB3(\textcolor{keywordtype}{double} r, \textcolor{keywordtype}{double} g, \textcolor{keywordtype}{double} b) }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00024}00024 \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00025}00025     \textcolor{comment}{// no checking of [0,1] bounding.}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00026}00026     rgbData[0] = r;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00027}00027     rgbData[1] = g;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00028}00028     rgbData[2] = b;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00029}00029 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00031}00031 RGB3::RGB3(\textcolor{keywordtype}{double} val) }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00032}00032 \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00033}00033     rgbData[0] = rgbData[1] = rgbData[2] = val;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00034}00034 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00036}00036 \textcolor{keywordtype}{double} RGB3::operator[](\textcolor{keywordtype}{int} i)\textcolor{keyword}{ const}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00037}00037 \textcolor{keyword}{}\{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00038}00038     \textcolor{comment}{// no checking of i.}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00039}00039     \textcolor{keywordflow}{return} rgbData[i];}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00040}00040 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00041}00041 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00042}00042 \textcolor{keywordtype}{double}\& RGB3::operator[](\textcolor{keywordtype}{int} i)}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00043}00043 \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00044}00044     \textcolor{comment}{// no checking of i.}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00045}00045     \textcolor{keywordflow}{return} rgbData[i];}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00046}00046 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00047}00047 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00048}00048 RGB3 RGB3::operator+(\textcolor{keyword}{const} RGB3\& rgb)}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00049}00049 \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00050}00050     \textcolor{keywordflow}{return} RGB3(rgbData[0] + rgb[0], rgbData[1] + rgb[1], rgbData[2] + rgb[2]);}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00051}00051 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00052}00052 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00053}00053 RGB3 RGB3::operator-\/(\textcolor{keyword}{const} RGB3\& rgb)}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00054}00054 \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00055}00055     \textcolor{keywordflow}{return} RGB3(rgbData[0] -\/ rgb[0], rgbData[0] -\/ rgb[1], rgbData[0] -\/ rgb[2]);}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00056}00056 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00057}00057 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00058}00058 RGB3 RGB3::operator*(\textcolor{keyword}{const} RGB3\& rgb)}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00059}00059 \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00060}00060     \textcolor{keywordflow}{return} RGB3(rgbData[0] * rgb[0], rgbData[0] * rgb[1], rgbData[0] * rgb[2]);}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00061}00061 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00062}00062 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00063}00063 RGB3 RGB3::operator/(\textcolor{keyword}{const} RGB3\& rgb)}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00064}00064 \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00065}00065     \textcolor{keywordflow}{return} RGB3(rgbData[0] / rgb[0], rgbData[0] / rgb[1], rgbData[0] / rgb[2]);}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00066}00066 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00067}00067 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00068}00068 RGB3\& RGB3::operator+=(\textcolor{keyword}{const} RGB3\& rgb)}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00069}00069 \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00070}00070     rgbData[0] += rgb[0];}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00071}00071     rgbData[1] += rgb[1];}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00072}00072     rgbData[2] += rgb[2];}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00073}00073     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00074}00074 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00075}00075 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00076}00076 RGB3\& RGB3::operator-\/=(\textcolor{keyword}{const} RGB3\& rgb)}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00077}00077 \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00078}00078     rgbData[0] -\/= rgb[0];}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00079}00079     rgbData[1] -\/= rgb[1];}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00080}00080     rgbData[2] -\/= rgb[2];}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00081}00081     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00082}00082 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00083}00083 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00084}00084 RGB3\& RGB3::operator*=(\textcolor{keyword}{const} RGB3\& rgb)}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00085}00085 \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00086}00086     rgbData[0] *= rgb[0];}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00087}00087     rgbData[1] *= rgb[1];}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00088}00088     rgbData[2] *= rgb[2];}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00089}00089     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00090}00090 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00091}00091 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00092}00092 RGB3\& RGB3::operator/=(\textcolor{keyword}{const} RGB3\& rgb)}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00093}00093 \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00094}00094     rgbData[0] /= rgb[0];}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00095}00095     rgbData[1] /= rgb[1];}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00096}00096     rgbData[2] /= rgb[2];}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00097}00097     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00098}00098 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00099}00099 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00100}00100 RGB3 RGB3::operator*(\textcolor{keywordtype}{double} v)}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00101}00101 \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00102}00102     \textcolor{keywordflow}{return} RGB3(rgbData[0] * v, rgbData[1] * v, rgbData[2] * v);}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00103}00103 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00104}00104 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00105}00105 RGB3 RGB3::operator/(\textcolor{keywordtype}{double} v)}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00106}00106 \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00107}00107     \textcolor{keywordflow}{return} RGB3(rgbData[0] / v, rgbData[1] / v, rgbData[2] / v);}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00108}00108 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00109}00109 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00110}00110 RGB3\& RGB3::operator*=(\textcolor{keywordtype}{double} v)}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00111}00111 \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00112}00112     rgbData[0] *= v;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00113}00113     rgbData[1] *= v;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00114}00114     rgbData[2] *= v;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00115}00115     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00116}00116 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00117}00117 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00118}00118 RGB3\& RGB3::operator/=(\textcolor{keywordtype}{double} v)}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00119}00119 \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00120}00120     rgbData[0] /= v;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00121}00121     rgbData[1] /= v;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00122}00122     rgbData[2] /= v;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00123}00123     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00124}00124 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00125}00125 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00126}00126 XYZ3 RGB3::toXYZ3()\textcolor{keyword}{ const}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00127}00127 \textcolor{keyword}{}\{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00128}00128     \textcolor{comment}{// TODO: Eigen impl maybe even slower.}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00129}00129     Eigen::Matrix3d rgb2xyzMatrix;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00130}00130     rgb2xyzMatrix<< 0.412453f, 0.357580f, 0.180423f,}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00131}00131                     0.212671f, 0.715160f, 0.072169f,}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00132}00132                     0.019334f, 0.119193f, 0.950227f;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00133}00133     Eigen::Vector3d vec;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00134}00134     vec << rgbData[0], rgbData[1], rgbData[2];}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00135}00135     \textcolor{keyword}{auto} res = rgb2xyzMatrix * vec;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00136}00136     \textcolor{keywordflow}{return} XYZ3(res[0], res[1], res[2]);}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00137}00137 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00138}00138 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00139}00139 \textcolor{comment}{// @brief rgb to Spectrum. COSTLY so arrange cache if possible.}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00140}00140 \mbox{\hyperlink{class_sampled_spectrum}{Spectrum}} RGB3::toSpectrum(\mbox{\hyperlink{_color_8h_ab7b974cef152e339967fce62f49de0d9}{SpectrumType}} type)\textcolor{keyword}{ const}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00141}00141 \textcolor{keyword}{}\{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00142}00142     \mbox{\hyperlink{class_sampled_spectrum}{SampledSpectrum}} r;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00143}00143     \textcolor{keywordflow}{if} (type == SpectrumType::REFLECTANCE) \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00144}00144         \textcolor{comment}{// Convert reflectance spectrum to rgb}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00145}00145         \textcolor{keywordflow}{if} (rgbData[0] <= rgbData[1] \&\& rgbData[0] <= rgbData[2]) \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00146}00146             \textcolor{comment}{// Compute reflectance \_SampledSpectrum\_ with \_rgb[0]\_ as minimum}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00147}00147             r += rgbData[0] * SampledSpectrum::rgbRefl2SpectWhite;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00148}00148             \textcolor{keywordflow}{if} (rgbData[1] <= rgbData[2]) \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00149}00149                 r += (rgbData[1] -\/ rgbData[0]) * SampledSpectrum::rgbRefl2SpectCyan;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00150}00150                 r += (rgbData[2] -\/ rgbData[1]) * SampledSpectrum::rgbRefl2SpectBlue;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00151}00151             \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00152}00152             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00153}00153                 r += (rgbData[2] -\/ rgbData[0]) * SampledSpectrum::rgbRefl2SpectCyan;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00154}00154                 r += (rgbData[1] -\/ rgbData[2]) * SampledSpectrum::rgbRefl2SpectGreen;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00155}00155             \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00156}00156         \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00157}00157         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rgbData[1] <= rgbData[0] \&\& rgbData[1] <= rgbData[2]) \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00158}00158             \textcolor{comment}{// Compute reflectance \_SampledSpectrum\_ with \_rgb[1]\_ as minimum}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00159}00159             r += rgbData[1] * SampledSpectrum::rgbRefl2SpectWhite;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00160}00160             \textcolor{keywordflow}{if} (rgbData[0] <= rgbData[2]) \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00161}00161                 r += (rgbData[0] -\/ rgbData[1]) * SampledSpectrum::rgbRefl2SpectMagenta;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00162}00162                 r += (rgbData[2] -\/ rgbData[0]) * SampledSpectrum::rgbRefl2SpectBlue;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00163}00163             \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00164}00164             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00165}00165                 r += (rgbData[2] -\/ rgbData[1]) * SampledSpectrum::rgbRefl2SpectMagenta;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00166}00166                 r += (rgbData[0] -\/ rgbData[2]) * SampledSpectrum::rgbRefl2SpectRed;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00167}00167             \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00168}00168         \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00169}00169         \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00170}00170             \textcolor{comment}{// Compute reflectance \_SampledSpectrum\_ with \_rgb[2]\_ as minimum}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00171}00171             r += rgbData[2] * SampledSpectrum::rgbRefl2SpectWhite;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00172}00172             \textcolor{keywordflow}{if} (rgbData[0] <= rgbData[1]) \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00173}00173                 r += (rgbData[0] -\/ rgbData[2]) * SampledSpectrum::rgbRefl2SpectYellow;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00174}00174                 r += (rgbData[1] -\/ rgbData[0]) * SampledSpectrum::rgbRefl2SpectGreen;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00175}00175             \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00176}00176             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00177}00177                 r += (rgbData[1] -\/ rgbData[2]) * SampledSpectrum::rgbRefl2SpectYellow;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00178}00178                 r += (rgbData[0] -\/ rgbData[1]) * SampledSpectrum::rgbRefl2SpectRed;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00179}00179             \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00180}00180         \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00181}00181         r *= .94;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00182}00182     \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00183}00183     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00184}00184         \textcolor{comment}{// Convert illuminant spectrum to rgbData}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00185}00185         \textcolor{keywordflow}{if} (rgbData[0] <= rgbData[1] \&\& rgbData[0] <= rgbData[2]) \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00186}00186             \textcolor{comment}{// Compute illuminant \_SampledSpectrum\_ with \_rgb[0]\_ as minimum}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00187}00187             r += rgbData[0] * SampledSpectrum::rgbIllum2SpectWhite;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00188}00188             \textcolor{keywordflow}{if} (rgbData[1] <= rgbData[2]) \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00189}00189                 r += (rgbData[1] -\/ rgbData[0]) * SampledSpectrum::rgbIllum2SpectCyan;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00190}00190                 r += (rgbData[2] -\/ rgbData[1]) * SampledSpectrum::rgbIllum2SpectBlue;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00191}00191             \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00192}00192             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00193}00193                 r += (rgbData[2] -\/ rgbData[0]) * SampledSpectrum::rgbIllum2SpectCyan;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00194}00194                 r += (rgbData[1] -\/ rgbData[2]) * SampledSpectrum::rgbIllum2SpectGreen;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00195}00195             \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00196}00196         \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00197}00197         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rgbData[1] <= rgbData[0] \&\& rgbData[1] <= rgbData[2]) \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00198}00198             \textcolor{comment}{// Compute illuminant \_SampledSpectrum\_ with \_rgb[1]\_ as minimum}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00199}00199             r += rgbData[1] * SampledSpectrum::rgbIllum2SpectWhite;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00200}00200             \textcolor{keywordflow}{if} (rgbData[0] <= rgbData[2]) \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00201}00201                 r += (rgbData[0] -\/ rgbData[1]) * SampledSpectrum::rgbIllum2SpectMagenta;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00202}00202                 r += (rgbData[2] -\/ rgbData[0]) * SampledSpectrum::rgbIllum2SpectBlue;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00203}00203             \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00204}00204             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00205}00205                 r += (rgbData[2] -\/ rgbData[1]) * SampledSpectrum::rgbIllum2SpectMagenta;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00206}00206                 r += (rgbData[0] -\/ rgbData[2]) * SampledSpectrum::rgbIllum2SpectRed;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00207}00207             \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00208}00208         \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00209}00209         \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00210}00210             \textcolor{comment}{// Compute illuminant \_SampledSpectrum\_ with \_rgb[2]\_ as minimum}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00211}00211             r += rgbData[2] * SampledSpectrum::rgbIllum2SpectWhite;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00212}00212             \textcolor{keywordflow}{if} (rgbData[0] <= rgbData[1]) \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00213}00213                 r += (rgbData[0] -\/ rgbData[2]) * SampledSpectrum::rgbIllum2SpectYellow;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00214}00214                 r += (rgbData[1] -\/ rgbData[0]) * SampledSpectrum::rgbIllum2SpectGreen;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00215}00215             \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00216}00216             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00217}00217                 r += (rgbData[1] -\/ rgbData[2]) * SampledSpectrum::rgbIllum2SpectYellow;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00218}00218                 r += (rgbData[0] -\/ rgbData[1]) * SampledSpectrum::rgbIllum2SpectRed;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00219}00219             \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00220}00220         \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00221}00221         r *= .86445f;}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00222}00222     \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00223}00223     \textcolor{keywordflow}{return} r.clamp();}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00224}00224 \}}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00225}00225 }
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00226}00226 RGB3 operator*(\textcolor{keywordtype}{double} v, \textcolor{keyword}{const} RGB3\& rgb)}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00227}00227 \{}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00228}00228     \textcolor{keywordflow}{return} RGB3(rgb[0] * v, rgb[1] * v, rgb[2] * v);}
\DoxyCodeLine{\Hypertarget{_r_g_b3_8cpp_source_l00229}00229 \}}

\end{DoxyCode}
