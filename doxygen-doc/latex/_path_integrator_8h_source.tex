\hypertarget{_path_integrator_8h_source}{}\doxysection{Path\+Integrator.\+h}
\label{_path_integrator_8h_source}\index{/mnt/renderer/Zero/src/FunctionLayer/Integrator/PathIntegrator.h@{/mnt/renderer/Zero/src/FunctionLayer/Integrator/PathIntegrator.h}}
\mbox{\hyperlink{_path_integrator_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00012}00012 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00013}00013 }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00014}00014 \textcolor{preprocessor}{\#include <cmath>}}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00015}00015 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_ray_8h}{CoreLayer/Ray/Ray.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00016}00016 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_abstract_path_integrator_8h}{AbstractPathIntegrator.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00022}\mbox{\hyperlink{class_path_integrator}{00022}} \textcolor{keyword}{class }\mbox{\hyperlink{class_path_integrator}{PathIntegrator}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_abstract_path_integrator}{AbstractPathIntegrator}}}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00023}00023 \{}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00024}00024 \textcolor{keyword}{protected}:}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00025}\mbox{\hyperlink{class_path_integrator_afb3a42328259c6fbe7325dc820fd2be9}{00025}}     \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_path_integrator_afb3a42328259c6fbe7325dc820fd2be9}{nPathLengthLimit}} = 20;        }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00026}\mbox{\hyperlink{class_path_integrator_a074f8ff5ca559d52fe73158d73dc9c0c}{00026}}     \textcolor{keyword}{const} \textcolor{keywordtype}{double} \mbox{\hyperlink{class_path_integrator_a074f8ff5ca559d52fe73158d73dc9c0c}{pRussianRoulette}} = 0.95;   }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00027}00027 }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00028}00028 \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00029}00029     \mbox{\hyperlink{class_path_integrator}{PathIntegrator}}(}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00030}00030         std::shared\_ptr<Camera> \_camera, }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00031}00031         std::unique\_ptr<Film> \_film, }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00032}00032         std::unique\_ptr<TileGenerator> \_tileGenerator, }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00033}00033         std::shared\_ptr<Sampler> \_sampler, }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00034}00034         \textcolor{keywordtype}{int} \_spp,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00035}00035         \textcolor{keywordtype}{int} \_renderThreadNum=4);}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00042}00042     \textcolor{keyword}{virtual} \mbox{\hyperlink{struct_path_integrator_local_record}{PathIntegratorLocalRecord}} \mbox{\hyperlink{class_path_integrator_aed2feeee5709bc0ba5bf4198486f0392}{evalEmittance}}(std::shared\_ptr<Scene> scene,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00043}00043                                                     std::optional<Intersection> its,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00044}00044                                                     \textcolor{keyword}{const} \mbox{\hyperlink{struct_ray}{Ray}} \&ray) \textcolor{keyword}{override};}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00045}00045 }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00051}00051     \textcolor{keyword}{virtual} \mbox{\hyperlink{struct_path_integrator_local_record}{PathIntegratorLocalRecord}} \mbox{\hyperlink{class_path_integrator_ac42f7dd6e356f7f674c61dddca928b17}{sampleDirectLighting}}(std::shared\_ptr<Scene> scene,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00052}00052                                                            \textcolor{keyword}{const} Intersection \&its,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00053}00053                                                            \textcolor{keyword}{const} \mbox{\hyperlink{struct_ray}{Ray}} \&ray) \textcolor{keyword}{override};}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00063}00063     \textcolor{keyword}{virtual} \mbox{\hyperlink{struct_path_integrator_local_record}{PathIntegratorLocalRecord}} \mbox{\hyperlink{class_path_integrator_a96034877fb87f552e7b0061f2c184781}{evalScatter}}(std::shared\_ptr<Scene> scene,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00064}00064                                                   \textcolor{keyword}{const} Intersection \&its,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00065}00065                                                   \textcolor{keyword}{const} \mbox{\hyperlink{struct_ray}{Ray}} \&ray,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00066}00066                                                   \textcolor{keyword}{const} \mbox{\hyperlink{struct_t_vector3}{Vec3d}} \&wi) \textcolor{keyword}{override};}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00067}00067 }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00075}00075     \textcolor{keyword}{virtual} \mbox{\hyperlink{struct_path_integrator_local_record}{PathIntegratorLocalRecord}} \mbox{\hyperlink{class_path_integrator_a70b02a3b0c88a62a49ab6947aedcf2ec}{sampleScatter}}(std::shared\_ptr<Scene> scene,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00076}00076                                                     \textcolor{keyword}{const} Intersection \&its,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00077}00077                                                     \textcolor{keyword}{const} \mbox{\hyperlink{struct_ray}{Ray}} \&ray);}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00078}00078 }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00080}00080     \textcolor{keyword}{virtual} \textcolor{keywordtype}{double} \mbox{\hyperlink{class_path_integrator_aab8f02d77ad68804cc73f26414e69116}{russianRoulette}}(std::shared\_ptr<Scene> scene,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00081}00081                                    \textcolor{keyword}{const} Intersection \&its,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00082}00082                                    \textcolor{keyword}{const} \mbox{\hyperlink{class_sampled_spectrum}{Spectrum}} \&T,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00083}00083                                    \textcolor{keywordtype}{int} nBounce) \textcolor{keyword}{override};}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00084}00084 }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00085}00085     \textcolor{comment}{// todo: move light sampling into a new class (called LightDistribution?)}}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00088}00088 \textcolor{comment}{}    \textcolor{keyword}{virtual} std::pair<std::shared\_ptr<Light>, \textcolor{keywordtype}{double}> \mbox{\hyperlink{class_path_integrator_ab4d7071e1c8e56d42a51a64f624bcaf6}{chooseOneLight}}(std::shared\_ptr<Scene> scene,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00089}00089                                                                      \textcolor{keyword}{const} Intersection \&its,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00090}00090                                                                      \textcolor{keyword}{const} \mbox{\hyperlink{struct_ray}{Ray}} \&ray,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00091}00091                                                                      \textcolor{keywordtype}{double} lightSample);}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00092}00092 }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00094}00094     \textcolor{keyword}{virtual} \textcolor{keywordtype}{double} \mbox{\hyperlink{class_path_integrator_ab4ad474097b5d20a7c9e27eec38d50ea}{chooseOneLightPdf}}(std::shared\_ptr<Scene> scene,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00095}00095                                      \textcolor{keyword}{const} Intersection \&its,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00096}00096                                      \textcolor{keyword}{const} \mbox{\hyperlink{struct_ray}{Ray}} \&ray,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00097}00097                                      std::shared\_ptr<Light> light);}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00098}00098 }
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00100}00100     \textcolor{keyword}{virtual} \mbox{\hyperlink{struct_path_integrator_local_record}{PathIntegratorLocalRecord}} \mbox{\hyperlink{class_path_integrator_a90dad5b76dec090103b6d34ee0cf2e69}{evalEnvLights}}(std::shared\_ptr<Scene> scene,}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00101}00101                                                     \textcolor{keyword}{const} \mbox{\hyperlink{struct_ray}{Ray}} \&ray);}
\DoxyCodeLine{\Hypertarget{_path_integrator_8h_source_l00102}00102 \};}

\end{DoxyCode}
